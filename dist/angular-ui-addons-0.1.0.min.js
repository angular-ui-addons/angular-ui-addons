/*
 * angular-ui-addons
 * http://angular-ui-addons.github.io

 * Version: 0.1.0 - 2014-01-22
 * License: MIT
 */
angular.module("angular-ui-addons",["angular-ui-addons.inclist","angular-ui-addons.validation"]),angular.module("angular-ui-addons.inclist",["ui.bootstrap"]).directive("inclist",function(){return{restrict:"AE",scope:{items:"=",typeaheadItems:"="},controller:function(a){this.addItem=function(c){var d=[];return angular.forEach(a.items,function(a){d.push(a.name)}),!angular.isDefined(c)||""===c||a.isUnique&&b(c,d)||a.isTypeaheadRestrict&&!b(c,this.getTypeaheadItems())?!1:(a.items.push({id:"item-"+Date.now(),name:c}),!0)},this.getItems=function(){return a.items},this.removeItem=function(b){var c=[];angular.forEach(a.items,function(a){a.id!=b&&c.push(a)}),a.items=c},this.getTypeaheadItems=function(){var b=[];return angular.forEach(a.typeaheadItems,function(a){if(angular.isObject(a)&&angular.isUndefined(a.name))throw new Error("Typeahead list should contain plain strings or objects with 'name' field to extract plain string from");b.push(angular.isObject(a)?a.name:a)}),b};var b=function(a,b){var c=!1;return angular.forEach(b,function(b){b==a&&(c=!0)}),c}},link:function(a,b,c){a.isUnique=angular.isDefined(c.inclistUnique),a.isTypeaheadRestrict=angular.isDefined(c.inclistTypeaheadRestrict),console.log("Restrict = "+a.isTypeaheadRestrict)}}}).directive("inclistInput",function(){return{require:"^inclist",restrict:"AE",scope:{},replace:!0,templateUrl:"template/inclist/inclist-input.html",compile:function(a){return a.find("input").attr("ng-model","selection"),a.find("input").attr("typeahead","item for item in getTypeaheadItems() | filter:$viewValue"),function(a,b,c,d){b.find("input").attr("placeholder",c.placeholder),a.addItemFromSelection=function(){d.addItem(a.selection)&&(a.selection="",a.$apply())},a.getTypeaheadItems=function(){var a=d.getTypeaheadItems();return angular.isDefined(a)?a:[]},b.on("submit",a.addItemFromSelection)}}}}).directive("inclistOut",function(){return{require:"^inclist",restrict:"AE",scope:{},templateUrl:"template/inclist/inclist-out-list.html",link:function(a,b,c,d){a.items=d.getItems(),a.removeItem=function(b){d.removeItem(b),a.items=d.getItems()}}}}),angular.module("angular-ui-addons.validation",[]).directive("strongPassword",function(){var a=function(a){return a&&a.length>6};return{require:"ngModel",link:function(b,c,d,e){e.$parsers.unshift(function(b){var c=a(b);return e.$setValidity("strongPass",c),b}),e.$formatters.unshift(function(b){var c=a(b);return e.$setValidity("strongPass",c),b})}}});